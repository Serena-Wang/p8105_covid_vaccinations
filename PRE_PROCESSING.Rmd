---
title: "Data Pre-Processing"
output: 
  html_document:
    code_folding: hide
    toc: true
    toc_float: true
  always_allow_html: true
---

## Data Sources

### New York City Department of Health and Mental Hygiene [(NYC DOHMH)](https://www.nyc.gov/site/doh/data/data-home.page)

**Doses** [(Source)](https://github.com/nychealth/covid-vaccine-data/blob/main/doses/doses-by-day.csv)

This GitHub folder contains data on the COVID-19 vaccine administered by the New York City vaccination agency and reported to the CIR. Included are vaccinations by vaccine type and age for New York City residents and non-New York City residents and overall cumulative vaccinations and daily vaccinations in New York City. We focus on `doses-by-day` data.
 
**People** [(Source)](https://github.com/nychealth/covid-vaccine-data/tree/main/people)

This folder contains information on the number of NYC residents vaccinated for COVID-19 in NYC, NYS, NJ or elsewhere and reported to the CIR by NYC providers. We merged all the data related to "coverage by demo" to `coverage by demo full data` and "coverage by boro demo" to `coverage boro demo full data` from history.(See `get_coverage_by_demo_full.R` file in out github website) "coverage by demo" files contain information about the cumulative counts and estimated percentage of people who received COVID-19 vaccine stratified by age, race/ethnicity, and gender. "coverage by boro demo" files contain information about counts and percentages of COVID-19 vaccination outcomes in every borough in NYC, which are stratified by age and race/ethnicity.

We should notice:

* Percentages = $\frac{\sum Vaccination\ Counts}{\sum Estimated\ Population\ in\ Specific\  Area}$

* Vaccination coverage may be over 100% because the vaccination may exceed the estimated population in smaller geographies or for demographic categories.

* These "coverage by boro demo" files does not show the data for unknown race/ethnicity and the data for race/ethnicity in small number. (i.e. not including data on people who identify as American Indian and Alaska Native); These "coverage by demo" files include category of Native Hawaiian and other Pacific Islander (NHPI) into Asian data due to small numbers, and data on other races/ethnicities and unknown race/ethnicity or sex are available.
 
 
### New York State Department of Health [(NYS DH)](https://coronavirus.health.ny.gov/covid-19-data-new-york)

**COVID-19 Variant Data** [(Source)](https://coronavirus.health.ny.gov/covid-19-variant-data)

After the original virus has one or more mutations, we call it a variant. While COVID-19 virus (SARS-CoV-2) has hundreds of variants identified and described. We are more interested in the number and distribution of variants defined as of concern or of interest. This variant data is collected from the Global Initiative on Sharing Avian Influenza Data (GISAID) database -- the world’s largest SARS-CoV-2 sequence data and pulled from the CDC data of general surveillance data on a sample of SARS-CoV-2 specimens from around the United States. 

We should notice:

* Because uploading specimens to the database can be delayed, we should carefully interpret the data for the most recent time interval.

* Only pulled data related to New York State, organized by a specific time frame of specimen collection.

* Specimens from CDC’s program may also upload into GISAID.
 

**New York State Statewide COVID-19 Reinfection Data** [(Source)](https://health.data.ny.gov/Health/New-York-State-Statewide-COVID-19-Reinfection-Data/7aaj-cdtu)

This dataset reports the number of first infections and reinfections in New York State since January 2021, broken down by week. With the aim to show the trends in Reinfections (first infections and reinfections) in New York City, we only used the data from New York City. *Created by the New York State Department of Health from data reported to Electronica Clinical Laboratory Reporting System (ECLRS)*. And we defined reinfection as the test turning positive again within 90 days or more after the first positive test.
 

### NYC OpenData [(NYC OD)](https://data.cityofnewyork.us/Health/COVID-19-Daily-Counts-of-Cases-Hospitalizations-an/rc75-m7u3)

This dataset collected daily counts of New York City residents who tested positive of COVID-19, hospitalizations for COVID-19, and deaths with COVID-19. We focus on the counts of hospitalizations and deaths to compare the trends of these health outcomes. *Notice: this dataset is actually provided by NYC DOHMH*

## Data Cleaning